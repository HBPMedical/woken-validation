{
  "action": [
    {
      "let": {
        "x": {
          "a.flatten": [
            {
              "new": [
                {
                  "u.arr": [
                    {
                      "/": [
                        {
                          "-": [
                            {
                              "attr": "input",
                              "path": [
                                {
                                  "string": "score_test1"
                                }
                              ]
                            },
                            0
                          ]
                        },
                        1
                      ]
                    }
                  ]
                },
                {
                  "u.arr": [
                    {
                      "/": [
                        {
                          "-": [
                            {
                              "attr": "input",
                              "path": [
                                {
                                  "string": "college_math"
                                }
                              ]
                            },
                            0
                          ]
                        },
                        1
                      ]
                    }
                  ]
                }
              ],
              "type": {
                "items": {
                  "items": "double",
                  "type": "array"
                },
                "type": "array"
              }
            }
          ]
        }
      }
    },
    {
      "let": {
        "neighbors": {
          "model.neighbor.nearestK": [
            {
              "cell": "nNeighbors"
            },
            "x",
            {
              "cell": "codebook"
            },
            {
              "do": [
                {
                  "metric.simpleEuclidean": [
                    "x",
                    {
                      "attr": "p",
                      "path": [
                        {
                          "string": "x"
                        }
                      ]
                    }
                  ]
                }
              ],
              "params": [
                {
                  "x": {
                    "items": "double",
                    "type": "array"
                  }
                },
                {
                  "p": {
                    "fields": [
                      {
                        "name": "x",
                        "type": {
                          "items": "double",
                          "type": "array"
                        }
                      },
                      {
                        "name": "y",
                        "type": "double"
                      }
                    ],
                    "name": "Point",
                    "type": "record"
                  }
                }
              ],
              "ret": "double"
            }
          ]
        }
      }
    },
    {
      "a.mean": [
        {
          "a.map": [
            "neighbors",
            {
              "do": [
                {
                  "attr": "p",
                  "path": [
                    {
                      "string": "y"
                    }
                  ]
                }
              ],
              "params": [
                {
                  "p": "Point"
                }
              ],
              "ret": "double"
            }
          ]
        }
      ]
    }
  ],
  "cells": {
    "codebook": {
      "init": [
        {
          "x": [
            846.2601464093,
            10.8950566269
          ],
          "y": 47.255081449
        },
        {
          "x": [
            1257.859885233,
            95.3513825513
          ],
          "y": 43.9281508027
        },
        {
          "x": [
            1070.6406427181,
            82.4857629211
          ],
          "y": 43.2017809317
        },
        {
          "x": [
            1040.8477167398,
            19.101598745
          ],
          "y": 48.0430759808
        },
        {
          "x": [
            1173.4546177907,
            30.4334044384
          ],
          "y": 42.7963941018
        },
        {
          "x": [
            1189.9664245547,
            48.7741386232
          ],
          "y": 47.6898181248
        },
        {
          "x": [
            904.7298423054,
            0.6628656151
          ],
          "y": 41.1218845341
        },
        {
          "x": [
            1126.9994475635,
            46.8417791895
          ],
          "y": 42.799063386
        },
        {
          "x": [
            921.3902520765,
            31.1422822999
          ],
          "y": 35.3848051833
        },
        {
          "x": [
            1015.0602213956,
            0.0375835449
          ],
          "y": 42.6748370061
        },
        {
          "x": [
            836.9028792053,
            8.3375337264
          ],
          "y": 42.1595104892
        },
        {
          "x": [
            1115.7197474598,
            91.7303203445
          ],
          "y": 47.4817658724
        },
        {
          "x": [
            1106.2322393266,
            17.0190950573
          ],
          "y": 39.3245277443
        },
        {
          "x": [
            967.2015569691,
            30.1656292917
          ],
          "y": 43.7665170958
        },
        {
          "x": [
            965.9056097908,
            42.6418779843
          ],
          "y": 42.1055474044
        },
        {
          "x": [
            1150.1264323877,
            71.1971646862
          ],
          "y": 46.3452458799
        },
        {
          "x": [
            1171.97369725,
            66.2762563969
          ],
          "y": 40.8102670269
        },
        {
          "x": [
            1113.5667221833,
            77.5122492806
          ],
          "y": 36.7182068067
        },
        {
          "x": [
            673.9055860819,
            11.3424617553
          ],
          "y": 41.7561114689
        },
        {
          "x": [
            1098.7090059025,
            -0.9802150006
          ],
          "y": 39.3220451398
        },
        {
          "x": [
            909.6367127054,
            6.1959829986
          ],
          "y": 44.9255409406
        },
        {
          "x": [
            864.4163311545,
            84.4122609019
          ],
          "y": 43.6452404035
        },
        {
          "x": [
            1230.9192561524,
            89.8678551272
          ],
          "y": 43.0996406928
        },
        {
          "x": [
            513.0364343643,
            77.5381610541
          ],
          "y": 40.2994403293
        },
        {
          "x": [
            953.5131757058,
            13.8231304581
          ],
          "y": 42.4955728618
        },
        {
          "x": [
            1142.4944354982,
            66.3969555486
          ],
          "y": 41.0093516286
        },
        {
          "x": [
            507.6821001334,
            76.7436583759
          ],
          "y": 41.4586489308
        },
        {
          "x": [
            1294.3030531746,
            83.721630088
          ],
          "y": 41.3683317524
        },
        {
          "x": [
            1191.4233669921,
            63.6515827437
          ],
          "y": 46.6271629788
        },
        {
          "x": [
            1291.806003206,
            38.9139001654
          ],
          "y": 41.1977091391
        },
        {
          "x": [
            1086.2369574175,
            63.3139980925
          ],
          "y": 42.6734948069
        },
        {
          "x": [
            661.751822735,
            42.4855638696
          ],
          "y": 38.2567759932
        },
        {
          "x": [
            933.4139363601,
            105.4383466671
          ],
          "y": 37.8665546505
        },
        {
          "x": [
            1082.3983362326,
            47.8587228052
          ],
          "y": 37.3548118741
        },
        {
          "x": [
            1129.5703810495,
            32.6633322306
          ],
          "y": 49.2254841113
        },
        {
          "x": [
            1201.4128265297,
            62.9650014579
          ],
          "y": 42.7151777102
        },
        {
          "x": [
            1032.202957092,
            16.0538297337
          ],
          "y": 40.5354538031
        },
        {
          "x": [
            1180.8783901631,
            70.9273329972
          ],
          "y": 38.8288255211
        },
        {
          "x": [
            1095.9937865071,
            58.3815291029
          ],
          "y": 42.1316498056
        },
        {
          "x": [
            1181.7662053334,
            46.1575099866
          ],
          "y": 44.3509658334
        },
        {
          "x": [
            1119.8383382367,
            84.0515475651
          ],
          "y": 51.0292189608
        },
        {
          "x": [
            1192.6667735411,
            10.9729180093
          ],
          "y": 44.3603185853
        },
        {
          "x": [
            845.8142563223,
            37.1055868227
          ],
          "y": 40.0145858987
        },
        {
          "x": [
            1196.6476846036,
            50.9683550162
          ],
          "y": 49.6261322492
        },
        {
          "x": [
            864.2928535708,
            29.0519249411
          ],
          "y": 44.1440076217
        },
        {
          "x": [
            1175.5793963511,
            34.5935654365
          ],
          "y": 40.6648338166
        },
        {
          "x": [
            681.2167481593,
            51.4332360562
          ],
          "y": 42.5699397327
        },
        {
          "x": [
            1246.4724786849,
            90.4953177924
          ],
          "y": 47.059468878
        },
        {
          "x": [
            689.6041942457,
            42.9137604241
          ],
          "y": 45.9549912538
        },
        {
          "x": [
            716.5857453804,
            75.2324523971
          ],
          "y": 40.8764793026
        },
        {
          "x": [
            987.0886911692,
            76.4977548829
          ],
          "y": 40.0851796238
        },
        {
          "x": [
            937.1230758256,
            12.2452740518
          ],
          "y": 40.9821445512
        },
        {
          "x": [
            1180.8472088285,
            58.8946170073
          ],
          "y": 45.9297145306
        },
        {
          "x": [
            668.1879481742,
            82.8914467603
          ],
          "y": 43.034100347
        },
        {
          "x": [
            757.0288089441,
            72.5131478029
          ],
          "y": 41.8532171342
        },
        {
          "x": [
            1279.3171076716,
            74.8805934643
          ],
          "y": 45.1183516997
        },
        {
          "x": [
            777.7681066946,
            60.4803897693
          ],
          "y": 37.6501673954
        },
        {
          "x": [
            725.8574908617,
            67.4711973442
          ],
          "y": 46.3584737361
        },
        {
          "x": [
            910.2999037796,
            83.2992285721
          ],
          "y": 45.9839969446
        },
        {
          "x": [
            1063.0471802752,
            44.3556225518
          ],
          "y": 43.0964136113
        },
        {
          "x": [
            954.4118713802,
            100.9815270803
          ],
          "y": 40.0638098246
        },
        {
          "x": [
            1004.1205240001,
            54.5363702468
          ],
          "y": 45.7053249597
        },
        {
          "x": [
            783.2076877155,
            66.0300621254
          ],
          "y": 43.1915278571
        },
        {
          "x": [
            967.1004661701,
            91.5859292219
          ],
          "y": 45.7522466783
        },
        {
          "x": [
            1267.4674408151,
            56.1754430384
          ],
          "y": 47.2534926372
        },
        {
          "x": [
            1117.3250616769,
            53.2851516201
          ],
          "y": 46.5842353433
        },
        {
          "x": [
            791.9178735392,
            77.0785061307
          ],
          "y": 45.3349077057
        },
        {
          "x": [
            1133.1927552946,
            66.1485723446
          ],
          "y": 40.8601868347
        },
        {
          "x": [
            1264.1090324302,
            52.3001347942
          ],
          "y": 46.6117695416
        },
        {
          "x": [
            634.0673272911,
            102.8067493705
          ],
          "y": 36.6915928029
        },
        {
          "x": [
            770.1394476974,
            45.1221180406
          ],
          "y": 39.4150098156
        },
        {
          "x": [
            1083.3929185552,
            46.9970337332
          ],
          "y": 44.401103629
        },
        {
          "x": [
            1011.5604424148,
            46.0804883795
          ],
          "y": 51.1732012168
        },
        {
          "x": [
            1177.8255552877,
            87.7356986163
          ],
          "y": 47.9033907585
        },
        {
          "x": [
            1210.3537487595,
            39.849328575
          ],
          "y": 43.3412758684
        },
        {
          "x": [
            1045.0800999096,
            81.7032992338
          ],
          "y": 51.4242761962
        },
        {
          "x": [
            1272.0076095405,
            60.6713914003
          ],
          "y": 46.7850332629
        },
        {
          "x": [
            890.1986126364,
            93.9095570132
          ],
          "y": 42.0229844057
        },
        {
          "x": [
            1024.5751590386,
            52.5643860239
          ],
          "y": 39.5999862008
        },
        {
          "x": [
            671.2644386914,
            32.6840458572
          ],
          "y": 47.4591943936
        },
        {
          "x": [
            1084.0020925609,
            -10.0614573109
          ],
          "y": 46.9787887637
        },
        {
          "x": [
            1116.8004384895,
            101.8137365113
          ],
          "y": 51.3472088656
        },
        {
          "x": [
            584.4086564754,
            63.7818807484
          ],
          "y": 45.6374759833
        },
        {
          "x": [
            1038.4835477384,
            104.8236728432
          ],
          "y": 48.8574696655
        },
        {
          "x": [
            1071.2837400275,
            30.5456283823
          ],
          "y": 48.4288645224
        },
        {
          "x": [
            1249.3078790972,
            73.6149910766
          ],
          "y": 48.8481939533
        },
        {
          "x": [
            985.0188938778,
            84.638251957
          ],
          "y": 55.395621187
        },
        {
          "x": [
            478.4432300006,
            87.7900715592
          ],
          "y": 49.2224034306
        },
        {
          "x": [
            1098.5860477126,
            32.2604960285
          ],
          "y": 50.5842894505
        },
        {
          "x": [
            1144.1707236665,
            56.6330780073
          ],
          "y": 49.3232301792
        },
        {
          "x": [
            1104.9257219085,
            11.6174229006
          ],
          "y": 46.1736110884
        },
        {
          "x": [
            1126.4307275277,
            88.9772431578
          ],
          "y": 47.3236730151
        },
        {
          "x": [
            1075.1005838939,
            86.6430574057
          ],
          "y": 52.2508853306
        },
        {
          "x": [
            1283.965911679,
            100.1713455124
          ],
          "y": 53.5429508934
        },
        {
          "x": [
            884.0247991142,
            37.1577280959
          ],
          "y": 51.3761255696
        },
        {
          "x": [
            1256.8239543419,
            70.3594526994
          ],
          "y": 47.4125325146
        },
        {
          "x": [
            1318.6361607222,
            65.6946755501
          ],
          "y": 52.7803306145
        },
        {
          "x": [
            1098.5392389084,
            34.2082117908
          ],
          "y": 45.6575596663
        },
        {
          "x": [
            1213.8454978677,
            93.3706904531
          ],
          "y": 44.9497741438
        },
        {
          "x": [
            1005.7090924591,
            2.0442583095
          ],
          "y": 47.0718634953
        },
        {
          "x": [
            1067.9824126282,
            94.1968868308
          ],
          "y": 52.3520990841
        },
        {
          "x": [
            954.7575325964,
            -11.2569495664
          ],
          "y": 50.1275446169
        },
        {
          "x": [
            1134.197139831,
            45.2664631516
          ],
          "y": 51.8991424812
        },
        {
          "x": [
            1283.5855466622,
            75.41264138
          ],
          "y": 51.7011550428
        },
        {
          "x": [
            860.3816160118,
            65.6683608284
          ],
          "y": 46.5096869943
        },
        {
          "x": [
            954.0218218862,
            12.0631355655
          ],
          "y": 50.33405512
        },
        {
          "x": [
            1322.728896238,
            75.4358717785
          ],
          "y": 57.27077292
        },
        {
          "x": [
            782.8685781379,
            71.3067123164
          ],
          "y": 46.0180626832
        },
        {
          "x": [
            1067.2369152361,
            41.6215835407
          ],
          "y": 53.1073577082
        },
        {
          "x": [
            1134.6824350151,
            98.8392634068
          ],
          "y": 52.9207546787
        },
        {
          "x": [
            746.2094439252,
            54.3486850174
          ],
          "y": 58.9433858107
        },
        {
          "x": [
            660.360550668,
            14.0136597458
          ],
          "y": 55.3482387406
        },
        {
          "x": [
            880.9295221355,
            -7.2789636948
          ],
          "y": 52.8268625559
        },
        {
          "x": [
            943.8151754008,
            -9.0362012508
          ],
          "y": 57.8486929341
        },
        {
          "x": [
            845.4466633194,
            40.6117690395
          ],
          "y": 59.458032397
        },
        {
          "x": [
            1245.5898794135,
            76.3031398813
          ],
          "y": 51.2882892488
        },
        {
          "x": [
            949.0336361073,
            45.8823275367
          ],
          "y": 63.5995205102
        },
        {
          "x": [
            909.6016014354,
            108.2142859164
          ],
          "y": 61.4568361804
        },
        {
          "x": [
            878.5341354963,
            71.9938162162
          ],
          "y": 54.0476564225
        },
        {
          "x": [
            1157.2162013067,
            95.988670399
          ],
          "y": 53.487175739
        },
        {
          "x": [
            1166.6235854548,
            65.9213243908
          ],
          "y": 50.8336401218
        },
        {
          "x": [
            687.0416922137,
            97.3644194144
          ],
          "y": 56.430155172
        },
        {
          "x": [
            674.2856333444,
            41.4998140741
          ],
          "y": 58.9358091201
        },
        {
          "x": [
            1224.4082839953,
            23.0040088091
          ],
          "y": 54.5631918843
        },
        {
          "x": [
            1220.0438245551,
            53.2594625219
          ],
          "y": 51.8366144896
        },
        {
          "x": [
            1237.9513630296,
            7.1367033596
          ],
          "y": 54.1605200671
        },
        {
          "x": [
            1121.0846406396,
            29.0073261562
          ],
          "y": 60.0034393609
        },
        {
          "x": [
            1115.6715873969,
            31.4570761848
          ],
          "y": 66.6646707895
        },
        {
          "x": [
            666.7345371237,
            66.8197965433
          ],
          "y": 64.970170333
        },
        {
          "x": [
            1109.1382594862,
            21.6424101398
          ],
          "y": 62.8885026538
        },
        {
          "x": [
            777.0383035484,
            101.4455556512
          ],
          "y": 60.8919194382
        },
        {
          "x": [
            706.6393521282,
            96.0793710019
          ],
          "y": 62.2282697282
        },
        {
          "x": [
            789.1962848093,
            72.2737889367
          ],
          "y": 68.2569882054
        },
        {
          "x": [
            1029.1640196686,
            72.6776264951
          ],
          "y": 61.6914385299
        },
        {
          "x": [
            1203.6519331544,
            30.1549784144
          ],
          "y": 62.804897373
        },
        {
          "x": [
            1060.8209638646,
            84.0688461183
          ],
          "y": 64.9403859184
        },
        {
          "x": [
            1237.7420924147,
            53.5404287301
          ],
          "y": 61.9675407638
        },
        {
          "x": [
            817.9005133929,
            105.4754835653
          ],
          "y": 72.8212109622
        },
        {
          "x": [
            672.5289117232,
            18.4602673847
          ],
          "y": 63.9990452042
        },
        {
          "x": [
            1028.3148740547,
            74.3446019446
          ],
          "y": 63.4760560344
        },
        {
          "x": [
            882.7075696343,
            28.8766235483
          ],
          "y": 76.3951678099
        },
        {
          "x": [
            858.7703829116,
            30.1450258818
          ],
          "y": 77.6690429298
        },
        {
          "x": [
            1144.6893729025,
            39.8628281842
          ],
          "y": 69.0579727279
        },
        {
          "x": [
            1052.0373790679,
            36.6322443568
          ],
          "y": 74.3829256128
        },
        {
          "x": [
            1092.1309253072,
            30.7866706483
          ],
          "y": 71.15358796
        },
        {
          "x": [
            790.7880685229,
            8.650512201
          ],
          "y": 75.7395918214
        },
        {
          "x": [
            1034.9412068974,
            82.1929259113
          ],
          "y": 76.7576476291
        },
        {
          "x": [
            814.8310095732,
            22.3140768266
          ],
          "y": 72.3854784502
        },
        {
          "x": [
            835.3189803242,
            81.2770354036
          ],
          "y": 80.4738996627
        },
        {
          "x": [
            629.2066013265,
            40.2468787532
          ],
          "y": 75.1952890432
        }
      ],
      "rollback": false,
      "shared": false,
      "type": {
        "items": "Point",
        "type": "array"
      }
    },
    "nNeighbors": {
      "init": 5,
      "rollback": false,
      "shared": false,
      "type": "int"
    }
  },
  "fcns": {
    "C": {
      "do": [
        {
          "a.map": [
            "categories",
            {
              "do": [
                {
                  "else": [
                    0
                  ],
                  "if": {
                    "==": [
                      "cat",
                      "x"
                    ]
                  },
                  "then": [
                    1
                  ]
                }
              ],
              "params": [
                {
                  "cat": "string"
                }
              ],
              "ret": "double"
            }
          ]
        }
      ],
      "params": [
        {
          "x": "string"
        },
        {
          "categories": {
            "items": "string",
            "type": "array"
          }
        }
      ],
      "ret": {
        "items": "double",
        "type": "array"
      }
    },
    "arr": {
      "do": [
        {
          "new": [
            "x"
          ],
          "type": {
            "items": "double",
            "type": "array"
          }
        }
      ],
      "params": [
        {
          "x": "double"
        }
      ],
      "ret": {
        "items": "double",
        "type": "array"
      }
    },
    "standardize": {
      "do": [
        {
          "/": [
            {
              "-": [
                "x",
                "mu"
              ]
            },
            "sigma"
          ]
        }
      ],
      "params": [
        {
          "x": "double"
        },
        {
          "mu": "double"
        },
        {
          "sigma": "double"
        }
      ],
      "ret": "double"
    }
  },
  "input": {
    "fields": [
      {
        "name": "score_test1",
        "type": "double"
      },
      {
        "name": "college_math",
        "type": "double"
      }
    ],
    "name": "Input",
    "type": "record"
  },
  "method": "map",
  "name": "Engine_1",
  "output": "double"
}
